:root {
    --ios-bg: #000000; --ios-card: #1c1c1e; --ios-text: #ffffff;
    --ruby: #ff3b30; --sapphire: #007aff; --topaz: #ffcc00;
    --diamond: #af52de; --emerald: #34c759;
}

body {
    background: var(--ios-bg); color: var(--ios-text); font-family: -apple-system, sans-serif;
    margin: 0; padding-top: env(safe-area-inset-top); overflow-x: hidden;
}

.ios-header { position: sticky; top: 0; z-index: 1000; padding: 20px; height: 100px; display: flex; align-items: flex-end; }
.blur-bg { position: absolute; inset: 0; background: rgba(28, 28, 30, 0.7); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); }
.header-content { position: relative; width: 100%; display: flex; justify-content: space-between; align-items: center; }

.draw-info h1 { margin: 0; font-size: 24px; color: var(--topaz); }
.draw-info p { margin: 0; font-size: 13px; opacity: 0.6; }

.last-result-pills { display: flex; gap: 5px; }
.pill { background: #3a3a3c; padding: 4px 8px; border-radius: 10px; font-size: 14px; font-weight: bold; }
.pill.pwr { color: #ff00ff; border: 1px solid #ff00ff; }

.ios-widget { background: var(--ios-card); margin: 15px; padding: 15px; border-radius: 28px; }
.widget-header { font-size: 12px; font-weight: 600; opacity: 0.5; margin-bottom: 15px; letter-spacing: 1px; }

.grid-55 { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
.num-cell {
    aspect-ratio: 1; border-radius: 50%; background: #2c2c2e; display: flex; 
    align-items: center; justify-content: center; font-size: 14px; font-weight: 600;
    transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1); border: 2px solid transparent;
}
.num-cell.active { background: #fff; color: #000; transform: scale(1.05); }
.num-cell.hot { background: rgba(255, 59, 48, 0.3); }
.num-cell.cold { background: rgba(0, 122, 255, 0.3); }
.num-cell.repeat { border-color: var(--topaz); }
.num-cell.power { border-color: #ff00ff; box-shadow: 0 0 8px #ff00ff; }

.action-center { text-align: center; margin: 20px 0; }
.ios-main-btn {
    width: 85%; height: 56px; border-radius: 28px; border: none; font-size: 17px;
    font-weight: 600; background: #fff; color: #000; transition: 0.2s;
}
.ios-main-btn:disabled { background: #3a3a3c; color: #666; }
.ios-main-btn:active { transform: scale(0.96); opacity: 0.8; }

.gem-card {
    background: var(--ios-card); margin: 8px 15px; padding: 16px; border-radius: 22px;
    display: flex; align-items: center; justify-content: space-between;
}
.gem-badge { width: 90px; padding: 6px; border-radius: 12px; text-align: center; font-size: 11px; font-weight: 800; }
.gem-badge.ruby { background: var(--ruby); }
.gem-badge.sapphire { background: var(--sapphire); }
.gem-badge.topaz { background: var(--topaz); color: #000; }
.gem-badge.diamond { background: var(--diamond); box-shadow: 0 0 10px var(--diamond); }
.gem-badge.emerald { background: var(--emerald); color: #000; }

.res-nums { font-family: 'Courier New', monospace; font-size: 19px; font-weight: bold; letter-spacing: 2px; }

/* iOS Sheet Modal */
.modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 2000; }
.ios-sheet {
    position: absolute; bottom: 0; width: 100%; background: #2c2c2e;
    border-radius: 20px 20px 0 0; padding: 20px; box-sizing: border-box;
}
.handle { width: 40px; height: 5px; background: #444; border-radius: 3px; margin: 0 auto 15px; }
